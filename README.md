# Space-Detector-Lab-Assignment-2
A repository containing my input data, code and README file for the HST Detector Lab Assignment

To begin, I reached out to Andrew on this to express that I found some difficulties in this. To be clear, I spoke with Bruce for clarity on certain parts which will be marked. To put it very simply, my time being sick caused some further complications in my health and having missed the labs I was very confused. I won't go into this more, unless requested.

To start, I used the glob() funstion to bring in my filelists. I then used a version of the file reader and compiler supplied in the workbooks and added in some lines for flux and header data. My output 'fluxes_*' was a combination of all the fluxes added into one files, from which i took the median of these values as was done in the combination function. I then copied in some of the functions for circular and square apertures, transform_by etc from cutils as it simply would not import for me. I do think on reflection there are some issues with my conda which may need to be updated.
Next, I moved onto creating some simple flux-to-magnitude functions. I had two seperate ones, this could have been resolved in one however.
The next parts are the real meat of the operation. I had struggled pretty hard with finding the flux points, as it kept presenting me with empty lists, I am not sure why. After showing me, with comparison to some of the data from the workbook, Bruce helped me establish a function that provided some values within a given apature and annulus. This helps to mask the background of the image so that the flux values from the datapoints are better defined for future functions.

To better help with starfinding I tried checking ellipticity. I created a basic function from the info in the workbooks to do so. I tried to measure the "broadness" of the source but came up empty.
From the information in the workbooks and brief, I knew I wanted to combine the ellipticity check with a sigma clip mask. When I tried to do this, I kept getting errors and results that were definitely incorrect (lists of maybe 4 sources). After help on this from Bruce, I learned that the best method is to find the coordinates from the code in the workbooks that showed how to find local maxima, iterate through those coordinates, check that the flux is above 0 and then use the circular aperture to find the points and mask, and gauss fit functions to get popt paramaters and check ellipticity is greater than 0.5. I suppose this value doesnt need to be fixed and could be constrained higher but I did not have the time to test this. Passes and fails are both saved in lists, though I never investigated the fails.

Following this I put the "confirmed" stars from both sources into a catalog (catalogue? not sure how this is spelled). It takes the data and the found coordinates, finds a flux at the peaks, and finds the magnitudes at these points and saves them in a table. Doing this, I found that for F336 and F555 that the lists were not the same length, differing by about 50. After running some checks, I decided that the F555 confirmed stars looked better on the F336 background than vice versa. Then I passed these through a new function that checks the flux at the map of F555 passes on F336 and removes any fluxes that are less than 0. This does unify the list length. Considering that the F555 and F336 sources are just filters in different light wavelengths, creating a HR diagram was just plotting the difference between the sources against the magnitude of one source. The HR diagram I got is odd. I think I needed much stricter checks, but again I struggled quite a bit on this and, without Bruce, I wouldnt have anything at all really as my functions would not work. 

I will also say, I wasn't sure if these images had the blev files etc removed already. I did start on doing this, but after doing some clipping it seemed like a great deal of stars were being removed. I then surmised that the filters were already applied, but could have checked this in the header information. I did supply some diagrams from these anyway in the ZIP folder. I also realised I plotted the uncombined images and sigma clip on the median image for F336W only, just for reference!
